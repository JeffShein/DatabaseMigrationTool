<Window x:Class="DatabaseMigrationTool.CriteriaHelperWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Table Criteria Helper" Height="600" Width="800"
        WindowStartupLocation="CenterOwner" 
        ResizeMode="CanResize">
    
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Instructions -->
        <TextBlock Grid.Row="0" TextWrapping="Wrap" Margin="0,0,0,10">
            <Run Text="Create WHERE criteria for your selected tables. "/>
            <Run FontWeight="Bold" Text="Note: "/>
            <Run Text="Do not include the 'WHERE' keyword - it will be added automatically. Use the table's column names and appropriate SQL syntax for your database provider. "/>
            <LineBreak/>
            <Run FontWeight="Bold" Text="Date Format: "/>
            <Run Text="Use 'YYYY-MM-DD' format (e.g., '2025-04-01') for dates. "/>
            <Run FontWeight="Bold" Foreground="Red" Text="Red borders indicate validation errors - hover for details."/>
        </TextBlock>
        
        <!-- Table criteria editor -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel x:Name="CriteriaPanel" Margin="0,0,0,10"/>
        </ScrollViewer>
        
        <!-- Preview -->
        <GroupBox Grid.Row="2" Header="JSON Preview" Margin="0,10,0,10">
            <ScrollViewer MaxHeight="150" VerticalScrollBarVisibility="Auto">
                <TextBox x:Name="JsonPreviewTextBox" IsReadOnly="True" 
                         TextWrapping="Wrap" FontFamily="Consolas"
                         Background="#F5F5F5"/>
            </ScrollViewer>
        </GroupBox>
        
        <!-- Buttons -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="Save As..." Margin="5" Padding="15,5" Click="SaveAsButton_Click"/>
            <Button Content="Cancel" Margin="5" Padding="15,5" Click="CancelButton_Click"/>
        </StackPanel>
    </Grid>
</Window>